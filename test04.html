<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>bonobo</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
<link rel="stylesheet" href="css/style.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Tenor+Sans&family=Zen+Kaku+Gothic+New&display=swap" rel="stylesheet"> 
</head>
<body>

<div class="wrapper">
<div id="header"></div>
<div id="menubar">
<div id="navigation"></div>
</div>
<main>
<div class="zen-kaku-gothic-new-regular">

<section>
<form action="" method="post" id="contact_form">

<h2>代理店番号</h2>

<br>
<p><span style="font-weight:bold;">■ 外部公開API</span><br>
    ・kintoneアプリ「代理店」
    →　KView「<a href="https://asiro-ssi.viewer.kintoneapp.com/public/api/records/agent-number/1" target="_blank">外部公開API（代理店番号）</a>」を作成<br>
    ・「<a href="js/agent_number.js" target="_blank">agent_number.js</a>」を作成<br>
    ・代理店番号（AG＋数字4桁。例：AG1001、AG1006、AG1052・・・）を入力すると、代理店名と住所を表示。<br>
    ・パラメータの自動取得を追加（・・・?agency_no=AG1052）、セットされた番号で自動読み込み。<br>
    ・パラメータがない場合はAG9999がセットされ、直扱いとなる<br>
    ・直扱い・代理店のラジオボタンは不要かも…？
</p>
    <br>
    <table class="ta2">
     <tr><td style="text-align: center;">
            <label for="ag_number">代理店番号：</label>
            <input type="text" id="ag_number" name="ag_number" oninput="handleAgentInput()"
                style="border: 0.5px solid #d9d9d9; height: 20px; padding: 10px;" pattern="^[A-Z0-9]+$"><br>
            <p id="agent_name" style="margin-top: 10px;"></p>
            <p id="agent_address" style="margin-top: 5px;"></p>
        </td></tr>
    </table>
    
<small>
<p>※チラシをお持ちの場合、裏面の代理店番号が上記と一致しているかご確認ください。異なる場合はチラシの番号をご入力ください。</p>    
</small><br>
<br>
<small>
＜テスト＞<br>
・<a href="https://haitug08.github.io/bonobo/test04.html?agency_no=AG1001" target="_blank">https://haitug08.github.io/bonobo/test04.html?agency_no=AG1001</a><br>  
・<a href="https://haitug08.github.io/bonobo/test04.html?agency_no=AG1006" target="_blank">https://haitug08.github.io/bonobo/test04.html?agency_no=AG1006</a><br> 
・<a href="https://haitug08.github.io/bonobo/test04.html?agency_no=AG1052" target="_blank">https://haitug08.github.io/bonobo/test04.html?agency_no=AG1052</a><br>
<br>
実際のURLは、https://asiro-ssi.com/?agency_no=AG1001・・・という感じになりそう？<br>
LP → 申込フォームへの繋ぎでパラメータを維持できる？　→　同一サーバーなので問題なさそう<br>
申込フォーム　→　kintone　は問題なし？　→　APIとフィールドコードのすり合わせ<br>
</small>
<br>
<small>
＜2025/03/25追加＞<br>
・パラメータの自動取得はLPサイトの全ページは不要。ただ、LPのトップページ（https://asiro-ssi.com/）以外に、申込フォームの入り口にも自動取得機能があってほしい。<br>
・一度保存したパラメータには期限は設けない。（念のため社内のポリシーを確認したが、特段の記載が確認できず。期限は設けず無期限で）<br>
・「申込経路」項目について、不要かもと意見もあったが、値がAG9999であれば「直接」を送信する、それ以外であれば「代理店経由」を送信するでOK<br>
<br>
「申込フォームの入り口」について、一点要望が・・・
契約者マイページや代理店ページ同様に、フォームの入り口手前に<a href="https://haitug08.github.io/bonobo/test36.html" target="_blank" style="font-weight="bold">このページ</a>を追加してほしい。<br>
パラメータの自動取得はLPトップと<a href="https://haitug08.github.io/bonobo/test36.html" target="_blank" style="font-weight="bold">このページ</a>で行うイメージ。
</small>    
    
</form>
</section>

</div>
</main>

<div id="footer"></div>
</div>
    


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="js/main.js"></script>
<script src="js/agent_number.js"></script>
<div class="pagetop"><a href="#"><i class="fas fa-angle-double-up"></i></a></div>
 
</body>
</html作成
